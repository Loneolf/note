{"version":3,"file":"js/home.chunk.js","mappings":"iIAAA,IAAIA,EAAgB,uDAChBC,EAAe,qD,qFCDZ,MAAMC,EAAe,CAAC,CAAC,MAAQ,uCAAuC,IAAM,wCAAwC,CAAC,MAAQ,oCAAoC,IAAM,qCAAqC,CAAC,MAAQ,uCAAuC,IAAM,wCAAwC,CAAC,MAAQ,uCAAuC,IAAM,wCAAwC,CAAC,MAAQ,uCAAuC,IAAM,wCAAwC,CAAC,MAAQ,iDAAiD,IAAM,kDAAkD,CAAC,MAAQ,iDAAiD,IAAM,kDAAkD,CAAC,MAAQ,iDAAiD,IAAM,kDAAkD,CAAC,MAAQ,iDAAiD,IAAM,kDAAkD,CAAC,MAAQ,iDAAiD,IAAM,kDAAkD,CAAC,MAAQ,iDAAiD,IAAM,kDAAkD,CAAC,MAAQ,uCAAuC,IAAM,wCAAwC,CAAC,MAAQ,uCAAuC,IAAM,yCCK9xC,SAASC,IACpB,IAAIC,GAAK,IAAAC,UAAS,IAAKC,EAAQF,EAAG,GAAIG,EAAWH,EAAG,GAChDI,GAAK,IAAAH,UAAS,IAAKI,EAASD,EAAG,GAAIE,EAAYF,EAAG,GAiDtD,OAhDA,IAAAG,YAAU,WACN,IAwBmBC,EACfC,EACAC,EA1BAC,EAAMb,EAAac,KAAI,SAAUC,GACjC,MAAO,GAAGC,OAAO,IAAc,WAAWA,OAAOD,EAAKE,IAC1D,IACIC,EAAOL,EAAIM,MAAK,WAAc,OAAOC,KAAKC,SAAW,EAAK,IAC9DC,QAAQC,IAAIL,EAAML,GAClBL,EAAUU,GACVb,EAASQ,EAAI,KAkBMH,EAhBLG,EAiBVF,EAAe,GACfC,EAAaF,EAAUc,OAC3BF,QAAQC,IAAI,eAAgBb,GACrB,IAAIe,SAAQ,SAAUC,EAASC,GAClCjB,EAAUkB,SAAQ,SAAUC,EAAKC,GAC7B,IAAIC,EAAM,IAAIC,MACdV,QAAQC,IAAI,UAAWM,GACvBE,EAAIE,OAAS,WACTX,QAAQC,IAAI,cAAeW,MAC3BvB,EAAamB,GAASI,KAEH,KADnBtB,GAEIc,EAAQf,EAEhB,EACAoB,EAAII,QAAU,WACVR,EAAO,IAAIS,MAAM,MAAgBpB,OAAOa,EAAK,UACjD,EACAE,EAAIM,IAAMR,CACd,GACJ,KArCmBS,MAAK,SAAUC,GAC9BjB,QAAQC,IAAI,YAAagB,EAC7B,IAAGC,OAAM,SAAUC,GACfnB,QAAQmB,MAAMA,EAClB,GACJ,GAAG,KAkCK,UAAM,MAAO,CAAEC,UAAW,OAAQC,SAAU,EAAC,SAAK,MAAO,CAAED,UAAW,WAAYE,MAAO,CAAEC,gBAAiB,OAAO7B,OAAOZ,OAAa,UAAM,MAAO,CAAEsC,UAAW,SAAUI,QAjCnL,WACI,IAAIhB,EAAQvB,EAAOwC,WAAU,SAAUhC,GACnC,OAAOA,IAASX,CACpB,IACI4C,IAAclB,EACdkB,GAAazC,EAAOiB,SACpBwB,EAAY,GAChB3C,EAASE,EAAOyC,GACpB,EAyByML,SAAU,EAAC,SAAK,MAAO,CAAED,UAAW,WAAYC,SAAU,UAA+B,SAAK,IAAK,CAAED,UAAW,OAAQC,SAAU,oBAC/U,C","sources":["webpack://source-map/./src/config/common.ts","webpack://source-map/./src/page/home/bgConfig.js","webpack://source-map/./src/page/home/index.tsx"],"sourcesContent":["var remoteBaseUrl = \"https://qing-1258827329.cos.ap-beijing.myqcloud.com/\";\nvar remoteImgUrl = \"https://img-1258827329.cos.ap-beijing.myqcloud.com/\";\nexport { remoteBaseUrl, remoteImgUrl };\n","export const bgImgCatalog = [{\"label\":\"1afcdb25fa1848c1a38a7d6c2d033df5.jpg\",\"key\":\"1afcdb25fa1848c1a38a7d6c2d033df5.jpg\"},{\"label\":\"20240409185340171266002049531.jpg\",\"key\":\"20240409185340171266002049531.jpg\"},{\"label\":\"45663c9f2ce54eb2ae8628efb0c43390.jpg\",\"key\":\"45663c9f2ce54eb2ae8628efb0c43390.jpg\"},{\"label\":\"5c23d52f880511ebb6edd017c2d2eca2.jpg\",\"key\":\"5c23d52f880511ebb6edd017c2d2eca2.jpg\"},{\"label\":\"9439aad9fd9a455b9fe428221378afd2.png\",\"key\":\"9439aad9fd9a455b9fe428221378afd2.png\"},{\"label\":\"bizhihui_com_20231109220430169953867038181.jpg\",\"key\":\"bizhihui_com_20231109220430169953867038181.jpg\"},{\"label\":\"bizhihui_com_20231109222905169954014578572.jpg\",\"key\":\"bizhihui_com_20231109222905169954014578572.jpg\"},{\"label\":\"bizhihui_com_20231109231749169954306948063.jpg\",\"key\":\"bizhihui_com_20231109231749169954306948063.jpg\"},{\"label\":\"bizhihui_com_20231110230920169962896093913.jpg\",\"key\":\"bizhihui_com_20231110230920169962896093913.jpg\"},{\"label\":\"bizhihui_com_20231111142611169968397120808.jpg\",\"key\":\"bizhihui_com_20231111142611169968397120808.jpg\"},{\"label\":\"bizhihui_com_20231111170029169969322986652.png\",\"key\":\"bizhihui_com_20231111170029169969322986652.png\"},{\"label\":\"c0dd2053b27e4957af8aedd5fe3ca485.jpg\",\"key\":\"c0dd2053b27e4957af8aedd5fe3ca485.jpg\"},{\"label\":\"cbcf05e9ea98488cba2a416bb33f1bbe.jpg\",\"key\":\"cbcf05e9ea98488cba2a416bb33f1bbe.jpg\"}]","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useEffect, useState } from \"react\";\nimport { remoteImgUrl } from '@cf/common';\nimport { bgImgCatalog } from './bgConfig';\nimport './index.scss';\nexport default function Fetch() {\n    var _a = useState(''), bgImg = _a[0], setBgImg = _a[1];\n    var _b = useState([]), imgArr = _b[0], setImgArr = _b[1];\n    useEffect(function () {\n        var tem = bgImgCatalog.map(function (item) {\n            return \"\".concat(remoteImgUrl, \"homeBg/\").concat(item.key);\n        });\n        var imgC = tem.sort(function () { return Math.random() - 0.5; });\n        console.log(imgC, tem);\n        setImgArr(imgC);\n        setBgImg(tem[0]);\n        // 预加载图片\n        preloadImages(tem).then(function (images) {\n            console.log('所有图片已加载完成', images);\n        }).catch(function (error) {\n            console.error(error);\n        });\n    }, []);\n    function changeBgImg() {\n        var index = imgArr.findIndex(function (item) {\n            return item === bgImg;\n        });\n        var nextIndex = ++index;\n        if (nextIndex >= imgArr.length)\n            nextIndex = 0;\n        setBgImg(imgArr[nextIndex]);\n    }\n    // 图片预加载函数\n    function preloadImages(imageUrls) {\n        var loadedImages = [];\n        var loadNumber = imageUrls.length;\n        console.log('aaaaaloadImg', imageUrls);\n        return new Promise(function (resolve, reject) {\n            imageUrls.forEach(function (url, index) {\n                var img = new Image();\n                console.log('loadImg', url);\n                img.onload = function () {\n                    console.log('loadImgover', this);\n                    loadedImages[index] = this;\n                    loadNumber--;\n                    if (loadNumber === 0) {\n                        resolve(loadedImages);\n                    }\n                };\n                img.onerror = function () {\n                    reject(new Error(\"\\u56FE\\u7247 \".concat(url, \" \\u52A0\\u8F7D\\u5931\\u8D25\")));\n                };\n                img.src = url;\n            });\n        });\n    }\n    return (_jsxs(\"div\", { className: \"home\", children: [_jsx(\"div\", { className: \"imgBgBox\", style: { backgroundImage: \"url(\".concat(bgImg) } }), _jsxs(\"div\", { className: \"saying\", onClick: changeBgImg, children: [_jsx(\"div\", { className: \"sayTitle\", children: \"\\u9752\\u7AF9\\u5C0F\\u8F69\" }), _jsx(\"p\", { className: \"desc\", children: \"\\u4E0D\\u79EF\\u8DEC\\u6B65\\uFF0C\\u65E0\\u4EE5\\u81F3\\u5343\\u91CC\" })] })] }));\n}\n"],"names":["remoteBaseUrl","remoteImgUrl","bgImgCatalog","Fetch","_a","useState","bgImg","setBgImg","_b","imgArr","setImgArr","useEffect","imageUrls","loadedImages","loadNumber","tem","map","item","concat","key","imgC","sort","Math","random","console","log","length","Promise","resolve","reject","forEach","url","index","img","Image","onload","this","onerror","Error","src","then","images","catch","error","className","children","style","backgroundImage","onClick","findIndex","nextIndex"],"sourceRoot":""}